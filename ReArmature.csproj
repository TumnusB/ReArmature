<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net9.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
  </PropertyGroup>
  
    <!-- make all references non-private, so they won't be copied to the output folder -->
  <Target Name="ClearReferenceCopyLocalPaths" AfterTargets="ResolveAssemblyReferences">
    <ItemGroup>
      <ReferenceCopyLocalPaths Remove="@(ReferenceCopyLocalPaths)" />
    </ItemGroup>
  </Target>
  
    <PropertyGroup>
    <ResonitePath>N:\SteamLibrary\steamapps\common\Resonite</ResonitePath>
  </PropertyGroup>
    <PropertyGroup>
    <PostBuildEvent Condition="$([MSBuild]::IsOSPlatform('Windows'))">
      copy /Y "$(AssemblyName).dll" "$(ResonitePath)\rml_mods\$(AssemblyName).dll"
	</PostBuildEvent>
    <PostBuildEvent Condition="$([MSBuild]::IsOSPlatform('Linux'))">
      cp -f "$(AssemblyName).dll" "$(ResonitePath)/rml_mods/$(AssemblyName).dll"
	</PostBuildEvent>
	
  </PropertyGroup>
    <ItemGroup>
      <Reference Include="0Harmony">
        <HintPath>N:\SteamLibrary\steamapps\common\Resonite\rml_libs\0Harmony.dll</HintPath>
      </Reference>
      <Reference Include="Elements.Assets">
        <HintPath>N:\SteamLibrary\steamapps\common\Resonite\Elements.Assets.dll</HintPath>
      </Reference>
      <Reference Include="Elements.Core">
        <HintPath>N:\SteamLibrary\steamapps\common\Resonite\Elements.Core.dll</HintPath>
      </Reference>
      <Reference Include="FrooxEngine">
        <HintPath>N:\SteamLibrary\steamapps\common\Resonite\FrooxEngine.dll</HintPath>
      </Reference>
      <Reference Include="ResoniteModLoader">
        <HintPath>N:\SteamLibrary\steamapps\common\Resonite\Libraries\ResoniteModLoader.dll</HintPath>
      </Reference>
    </ItemGroup>

</Project>
